<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Fundamentos JQuery</title>
    <style>
        .error,
        #resumen {
            color: red;
            display: none;
        }
    </style>
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous">
    </script>

    <script type="text/javascript">
        $(document).ready(function() {

            $("#btn").click(function() {

                //almaceno campos con error en validacion
                let $errores = validarCampos($("#nombre"), $("#apellidos"));
                console.log($errores);
                //Muestro campos con error
                mostrarErrores($errores);
                mostrarErroresResumen($errores)

            });
        });

        //Recibe conjunto de nodos de JQuery y devuelve los err√≥neos
        function validarCampos(...$campos) {
            let $camposConErrores = [];
            for (let index = 0; index < $campos.length; index++) {
                if ($campos[index].val() == "") {
                    $camposConErrores.push($campos[index]);
                }
            }
            return $camposConErrores;
        }


        function mostrarErrores($camposConErrores) {
            //Limpio errores
            $(".error").hide();
            for (let index = 0; index < $camposConErrores.length; index++) {
                //Busco el span de error para mostrarlo
                $camposConErrores[index].next().show();

            }
        }

        function mostrarErroresResumen($camposConErrores) {
            //Limpio resumen y lo pongo en mostrar
            $("#resumen").empty().show();
            for (let index = 0; index < $camposConErrores.length; index++) {

                $("#resumen").append("<p>" + $camposConErrores[index].data("error") + "</p>");

            }
        }
    </script>

</head>

<body>
    <form>
        <p>
            <label for="nombre">Nombre: </label>
            <input type="text" name="nombre" id="nombre" placeholder="Introduce Nombre" data-error="El Nombre es obligatorio" />
            <span class="error">*</span>
        </p>
        <p>
            <label for="apellidos">Apellidos: </label>
            <input type="text" name="apellidos" id="apellidos" placeholder="Introduce Apellidos" data-error="El Apellido es obligatorio" />
            <span class="error">*</span>
        </p>
        <p>
            <input type="button" id="btn" value="Aceptar" />
        </p>
        <div id="resumen">

        </div>

    </form>


</body>

</html>